# Miaoda macOS 安装指南

## 问题说明

由于 Miaoda 当前使用的是开发者自签名证书，macOS 系统的 Gatekeeper 安全机制可能会阻止安装。这是正常现象，以下提供几种解决方案。

## 解决方案

### 方案1: 系统偏好设置（推荐）

1. **下载并双击 DMG 文件**
2. **如果出现"无法打开应用程序"的提示：**
   - 打开 `系统偏好设置` > `安全性与隐私` > `通用`
   - 在底部会看到关于 Miaoda 被阻止的消息
   - 点击 `仍要打开` 按钮

### 方案2: 右键菜单

1. **下载 DMG 文件，双击打开**
2. **将 Miaoda.app 拖拽到应用程序文件夹**
3. **在应用程序文件夹中右键点击 Miaoda.app**
4. **选择 `打开`**
5. **在弹出的对话框中选择 `打开`**

### 方案3: 命令行解决（高级用户）

打开终端应用，运行以下命令：

```bash
# 移除扩展属性（隔离标记）
sudo xattr -rd com.apple.quarantine /Applications/Miaoda.app

# 或者允许运行未签名应用（临时）
sudo spctl --master-disable
```

**注意：** 方案3会降低系统安全性，使用后请记得重新启用：
```bash
sudo spctl --master-enable
```

### 方案4: 允许任何来源（不推荐）

```bash
# 允许任何来源的应用运行
sudo spctl --master-disable

# 安装完成后恢复安全设置
sudo spctl --master-enable
```

## 首次运行

1. **安装成功后，首次运行 Miaoda**
2. **如果仍然出现安全警告，请重复上述步骤**
3. **应用正常启动后，后续使用不会再出现此问题**

## 为什么会出现这个问题？

- Miaoda 使用开发者自签名证书进行代码签名
- macOS Gatekeeper 只信任 Apple 颁发的证书
- 这是 macOS 的安全保护机制，并非应用本身有问题

## 获得正式签名证书

我们正在申请 Apple 开发者证书，未来版本将提供官方签名的应用，无需上述步骤即可直接安装。

## 技术支持

如果仍然无法安装，请：

1. **确认 macOS 版本：** Miaoda 需要 macOS 11.0 或更高版本
2. **检查处理器类型：** 
   - Apple Silicon (M1/M2/M3): 使用 ARM64 版本
   - Intel 处理器: 使用 x64 版本
3. **联系技术支持：** 
   - GitHub Issues: https://github.com/miounet11/miaoda/issues
   - 邮箱: service@miaoda.xin

## 常见错误信息

| 错误信息 | 解决方案 |
|----------|----------|
| "无法打开，因为它来自身份不明的开发者" | 使用方案1或方案2 |
| "应用程序已损坏，无法打开" | 使用方案3移除隔离属性 |
| "没有权限打开应用程序" | 检查文件权限，使用 `chmod +x` 修复 |
| DMG 无法挂载 | 重新下载 DMG 文件，检查文件完整性 |

---

*本指南适用于 Miaoda v0.6.599 及后续版本*